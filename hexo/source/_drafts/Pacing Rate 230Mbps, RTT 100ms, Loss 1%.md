## Pacing Rate 230Mbps, RTT 100ms, Loss 1%

- **PEP-Client** VMs OVS Interface 没有 tx_dropped

- **PEP-Server** VMs OVS Interface 存在轻微丢包，（297s 出现一次）

  ```
  ---- 297
  tx_dropped=18245767, new=100
  ---- 298
  ---- 341
  tx_dropped=18245832, new=65
  ---- 342
  ---- 401
  tx_dropped=18245947, new=115
  ---- 402
  ```

  ​

- 实际 Bandwidth 非常稳定

  ```
  snd: Pkts 18900, Bytes 27442800, rate 219 mbps
  snd: Pkts 18968, Bytes 27541536, rate 220 mbps
  snd: Pkts 18917, Bytes 27467484, rate 219 mbps
  snd: Pkts 18923, Bytes 27476196, rate 219 mbps
  snd: Pkts 18905, Bytes 27450060, rate 219 mbps
  snd: Pkts 18905, Bytes 27450060, rate 219 mbps
  snd: Pkts 18990, Bytes 27573480, rate 220 mbps
  snd: Pkts 18942, Bytes 27503784, rate 220 mbps
  snd: Pkts 18918, Bytes 27468936, rate 219 mbps
  snd: Pkts 18958, Bytes 27527016, rate 220 mbps
  snd: Pkts 18890, Bytes 27428280, rate 219 mbps
  snd: Pkts 18966, Bytes 27538632, rate 220 mbps
  snd: Pkts 18939, Bytes 27499428, rate 219 mbps

  rcv: Pkts 19000, Bytes 27588000, rate 220 mbps
  rcv: Pkts 18873, Bytes 27403596, rate 219 mbps
  rcv: Pkts 19042, Bytes 27648984, rate 221 mbps
  rcv: Pkts 18853, Bytes 27374556, rate 218 mbps
  rcv: Pkts 19086, Bytes 27712872, rate 221 mbps
  rcv: Pkts 17920, Bytes 26019840, rate 208 mbps
  rcv: Pkts 19846, Bytes 28816392, rate 230 mbps
  rcv: Pkts 18843, Bytes 27360036, rate 218 mbps
  rcv: Pkts 17539, Bytes 25466628, rate 203 mbps
  rcv: Pkts 20451, Bytes 29694852, rate 237 mbps
  rcv: Pkts 19005, Bytes 27595260, rate 220 mbps
  rcv: Pkts 17082, Bytes 24803064, rate 198 mbps
  rcv: Pkts 20663, Bytes 30002676, rate 240 mbps
  rcv: Pkts 18939, Bytes 27499428, rate 219 mbps
  ```

- `tools/top` 性能数据

  ```
  # Client
  |---------|---------|---------|---------|---------------|
  |     idle|      sys|     fbsd|      usr|           loop|
  |---------|---------|---------|---------|---------------|
  |   20.86%|    5.83%|    3.08%|   73.32%|        4274241|
  |   22.11%|    6.34%|    3.35%|   71.54%|        4166002|
  |   21.26%|    7.27%|    3.42%|   71.46%|        4179164|
  |   21.10%|    7.16%|    3.47%|   71.74%|        4156928|
  |   21.81%|    6.68%|    3.50%|   71.51%|        4144772|
  |   21.94%|    6.48%|    3.42%|   71.58%|        4148573|
  |   21.80%|    6.65%|    3.50%|   71.55%|        3952719|
  |   21.88%|    7.06%|    3.48%|   71.06%|        4129093|
  |   21.22%|    7.81%|    3.57%|   70.98%|        4108066|
  |   21.82%|    7.08%|    3.58%|   71.11%|        4131323|
  |   22.15%|    6.50%|    3.50%|   71.35%|        4167707|
  |   22.38%|    6.62%|    3.35%|   71.00%|        4096828|
  |   21.47%|    6.63%|    3.41%|   71.90%|        4186640|
  |   21.77%|    7.00%|    3.50%|   71.23%|        4133121|
  |   21.48%|    7.26%|    3.62%|   71.26%|        4130779|
  |   21.50%|    8.06%|    3.42%|   70.44%|        3841551|
  |   21.83%|    7.14%|    3.54%|   71.02%|        4049973|
  |   22.24%|    6.48%|    3.45%|   71.28%|        4124535|

  # Server
  |---------|---------|---------|---------|---------------|
  |     idle|      sys|     fbsd|      usr|           loop|
  |---------|---------|---------|---------|---------------|
  |   41.14%|    9.98%|    8.19%|   48.88%|        7012267|
  |   40.63%|   11.08%|    8.83%|   48.29%|        6976987|
  |   40.98%|   10.37%|    8.44%|   48.65%|        6982124|
  |   41.22%|   10.63%|    8.76%|   48.14%|        6888810|
  |   41.05%|   10.88%|    8.59%|   48.07%|        6965893|
  |   40.83%|   11.01%|    8.92%|   48.16%|        6875499|
  |   40.93%|   10.76%|    8.57%|   48.31%|        6860106|
  |   40.67%|   11.23%|    8.93%|   48.09%|        6945075|
  |   40.53%|   11.31%|    9.28%|   48.16%|        6887626|
  |   41.06%|   10.78%|    8.83%|   48.16%|        6860677|
  |   41.09%|   10.59%|    8.66%|   48.32%|        6977918|
  |   40.70%|   10.94%|    8.74%|   48.35%|        6860418|
  |   40.82%|   10.69%|    8.73%|   48.49%|        6911053|
  |   40.91%|   10.70%|    8.59%|   48.39%|        6965333|
  |   40.73%|   10.85%|    8.87%|   48.42%|        6898905|
  |   41.04%|   10.83%|    8.67%|   48.13%|        7066706|
  |   40.71%|   11.72%|    9.36%|   47.57%|        6843268|
  |   40.60%|   11.32%|    8.97%|   48.08%|        6955400|
  |   40.63%|   11.09%|    8.98%|   48.29%|        6952301|
  |   41.25%|   10.37%|    8.54%|   48.38%|        6909081|
  |   41.21%|   10.26%|    8.37%|   48.53%|        7112450|

  ```

  ​





## Pacing Rate 250Mbps, RTT 100ms, Loss 1%

- **PEP-Client** VMs OVS Interface 没有 tx_dropped

  ```
  ---- 173
  tx_dropped=16486983, new=33
  ---- 174
  ```

  ​

- **PEP-Server** VMs OVS Interface 存在轻微丢包

  ```
  ---- 15
  tx_dropped=18247238, new=12
  ---- 16
  ---- 74
  tx_dropped=18247370, new=132
  ---- 75
  ---- 89
  tx_dropped=18247547, new=177
  ---- 90
  ---- 99
  tx_dropped=18247735, new=188
  ---- 100
  ---- 109
  tx_dropped=18247863, new=128
  ---- 110
  ---- 153
  tx_dropped=18248176, new=313
  ---- 154
  ---- 173
  tx_dropped=18248447, new=271
  ---- 174
  ```

- 实际 Bandwidth 不算稳定

  ```
  snd: Pkts 20141, Bytes 29244732, rate 233 mbps
  snd: Pkts 20045, Bytes 29105340, rate 232 mbps
  snd: Pkts 20219, Bytes 29357988, rate 234 mbps
  snd: Pkts 15355, Bytes 22295460, rate 178 mbps
  snd: Pkts 3, Bytes 4356, rate 0 mbps
  snd: Pkts 19709, Bytes 28617468, rate 228 mbps
  snd: Pkts 19862, Bytes 28839624, rate 230 mbps
  snd: Pkts 20375, Bytes 29584500, rate 236 mbps
  snd: Pkts 14953, Bytes 21711756, rate 173 mbps
  snd: Pkts 19665, Bytes 28553580, rate 228 mbps
  snd: Pkts 19966, Bytes 28990632, rate 231 mbps
  snd: Pkts 20316, Bytes 29498832, rate 235 mbps

  rcv: Pkts 21031, Bytes 30537012, rate 244 mbps
  rcv: Pkts 20516, Bytes 29789232, rate 238 mbps
  rcv: Pkts 19648, Bytes 28528896, rate 228 mbps
  rcv: Pkts 20175, Bytes 29294100, rate 234 mbps
  rcv: Pkts 15269, Bytes 22170588, rate 177 mbps
  rcv: Pkts 4093, Bytes 5943036, rate 47 mbps
  rcv: Pkts 15744, Bytes 22860288, rate 182 mbps
  rcv: Pkts 19610, Bytes 28473720, rate 227 mbps
  rcv: Pkts 20647, Bytes 29979444, rate 239 mbps
  rcv: Pkts 14369, Bytes 20863788, rate 166 mbps
  rcv: Pkts 19522, Bytes 28345944, rate 226 mbps
  rcv: Pkts 19288, Bytes 28006176, rate 224 mbps
  rcv: Pkts 21661, Bytes 31451772, rate 251 mbps
  rcv: Pkts 20266, Bytes 29426232, rate 235 mbps
  rcv: Pkts 19721, Bytes 28634892, rate 229 mbps
  ```

- `tools/top` 性能数据

  ```
  # Client
  |---------|---------|---------|---------|---------------|
  |     idle|      sys|     fbsd|      usr|           loop|
  |---------|---------|---------|---------|---------------|
  |   21.97%|    7.71%|    3.80%|   70.32%|        4041341|
  |   21.63%|    7.78%|    3.74%|   70.59%|        4076550|
  |   20.49%|    4.12%|    2.45%|   75.39%|        4468127|
  |   19.90%|    2.56%|    1.28%|   77.54%|        4918973|
  |   21.77%|    7.25%|    3.90%|   70.98%|        3915848|
  |   22.53%|    7.08%|    3.71%|   70.39%|        4081910|
  |   21.42%|    7.61%|    3.69%|   70.97%|        4097032|
  |   20.53%|    6.49%|    3.50%|   72.97%|        4228501|
  |   21.39%|    8.37%|    3.71%|   70.24%|        4039804|

  # Server
  |   30.19%|   12.00%|   10.04%|   57.82%|        8235812|
  |   31.33%|    8.92%|    7.42%|   59.76%|        8431167|
  |   30.24%|   11.14%|    9.22%|   58.62%|        8173314|
  |   30.15%|   11.40%|    9.50%|   58.45%|        8115698|
  |   30.24%|   11.69%|    9.76%|   58.07%|        8182250|
  |   30.25%|   11.91%|    9.77%|   57.84%|        8280138|
  |   30.10%|   12.26%|   10.25%|   57.64%|        8121758|
  |   30.21%|   11.58%|    9.51%|   58.21%|        8060511|
  |   30.21%|   11.71%|    9.75%|   58.08%|        8092536|
  |   32.06%|    7.12%|    5.99%|   60.82%|        8822983|
  |   33.26%|    3.44%|    2.55%|   63.30%|        9668135|
  |   30.19%|   11.79%|    9.66%|   58.02%|        8282990|
  |   30.04%|   12.40%|    9.99%|   57.56%|        8008345|
  |   30.07%|   12.09%|    9.97%|   57.83%|        8164425|
  |   31.02%|    9.87%|    8.31%|   59.11%|        8310689|
  |   30.50%|   11.58%|    9.59%|   57.93%|        8003806|
  ```

  ​